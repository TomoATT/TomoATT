version : 2

domain :
  min_max_dep : [-29.0, 471.0] # depth in km
  min_max_lat : [30.0,50.0]   # latitude in degree
  min_max_lon : [15.0,40.0]   # longitude in degree
  n_rtp : [41,41,41]          # number of nodes

source :
  src_rec_file : 'src_rec_true.dat' # source receiver file (if found, src_dep_lat_lon is ignored)
  # src_rec_file : 'eg3_地震定位简易测试/src_rec_init_loc_single.dat' # source receiver file (if found, src_dep_lat_lon is ignored)
  swap_src_rec : 0                   # swap source and receiver (1: yes, 0: no)

model :
  init_model_path : 'models/model_N41_41_41.h5' # path to initial model file (ignored if init_model_type is '1d_*')

inversion :
  run_mode : 0 # 0 for forward simulation only, 1 for inversion, 3 for location
  max_iterations_inv : 5  # maximum number of inversion iterations
  step_size : 0.02  # step size for inversion
  step_size_decay : 0.9   # if objective function increase, step size -> step size * step_size_decay. default: 0.9

  output_dir : 'OUTPUT_FILES_N41_41_41'   # default: "./OUTPUT_FILES/"

parallel :
  n_sims : 1         # number of simultaneous run
  ndiv_rtp : [2,1,1] # number of subdomains
  nproc_sub : 1      # number of subprocess used for each subdomain

calculation :
  convergence_tolerance : 1e-5
  max_iterations : 500 # max itertions for forward simulation
  stencil_order : 1 # 1 or 3
  stencil_type : 1  # 1 for upwind (only valid for stencil_order = 1)
  sweep_type : 0    # 0: legacy, 1: cuthill-mckee with shm parallelization

output_setting :
  is_output_source_field : 0      # output the calculated field of all sources                            1 for yes; 0 for no;  default: 1
  is_verbose_output : 0           # output internal parameters, if no, only model parameters are out.     1 for yes; 0 for no;  default: 0
  is_output_model_dat : 1         # output model_parameters_inv_0000.dat or not.                          1 for yes; 0 for no;  default: 1

